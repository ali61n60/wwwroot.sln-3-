@using ModelStd.Db.Ad
@model List<ModelStd.Db.Ad.TemperatureModel>

@{
    ViewData["Title"] = "دماسنج";
    ViewData["PageTitle"] = "دماسنج";
    Layout = "_Layout";
}

@section TopTop
    {
    @Html.Partial("TopTop")
}
@section NavBar
    {
    @Html.Partial("NavBar")
}
@section PageTitle
    {
    @Html.Partial("PageTitle")
}
@section TopHeader
    {

}
@section SideNav
    {
    @Html.Partial("SideNav")
}
@section Body
{
    <div id="chartContainer" style="height: 300px; width: 100%;"></div>
    <form asp-controller="Temperature" asp-action="CustomResult" method="post">
        <div>
            <span>انتخاب تعداد رکورد</span>
            <select id="numberOfItems" name="numberOfItems" class="form-control">
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="100">150</option>
                <option value="100">200</option>
                <option value="100">250</option>
                <option value="100">300</option>
                <option value="1000000">all</option>
            </select>
            <button id="newNumberOfItems" class="btn btn-lg btn-primary">ارسال</button>
        </div>

    </form>
    <br /><br />

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Date</th>
                <th>Temperature</th>
            </tr>
        </thead>
        @foreach (TemperatureModel temperature in Model)
        {
            <tr>
                <td>@temperature.TemperatureId</td>
                <td>@temperature.InsertDateTime</td>
                <td>@temperature.Temp</td>
            </tr>
        }
    </table>
    

}

@section Footer
    {
    @Html.Partial("Footer")
}

@section scripts{
    <script>
        window.onload = function() {

            var chart = new CanvasJS.Chart("chartContainer", {
                animationEnabled: true,
                title: {
                    text: "Hourly Average CPU Utilization"
                },
                axisX: {
                    title: "Time"
                },
                axisY: {
                    title: "Percentage",
                    suffix: "%"
                },
                data: [{
                    type: "line",
                    name: "CPU Utilization",
                    connectNullData: true,
                    //nullDataLineDashType: "solid",
                    xValueType: "dateTime",
                    xValueFormatString: "DD MMM hh:mm TT",
                    yValueFormatString: "#,##0.##\"%\"",
                    dataPoints: [
                        { x: 1501048673000, y: 35.939 },
                        { x: 1501052273000, y: 40.896 },
                        { x: 1501055873000, y: 56.625 },
                        { x: 1501059473000, y: 26.003 },
                        { x: 1501063073000, y: 20.376 },
                        { x: 1501066673000, y: 19.774 },
                        { x: 1501070273000, y: 23.508 },
                        { x: 1501073873000, y: 18.577 },
                        { x: 1501077473000, y: 15.918 },
                        { x: 1501081073000, y: null }, // Null Data
                        { x: 1501084673000, y: 10.314 },
                        { x: 1501088273000, y: 10.574 },
                        { x: 1501091873000, y: 14.422 },
                        { x: 1501095473000, y: 18.576 },
                        { x: 1501099073000, y: 22.342 },
                        { x: 1501102673000, y: 22.836 },
                        { x: 1501106273000, y: 23.220 },
                        { x: 1501109873000, y: 23.594 },
                        { x: 1501113473000, y: 24.596 },
                        { x: 1501117073000, y: 31.947 },
                        { x: 1501120673000, y: 31.142 }
                    ]
                }]
            });
            chart.render();

        }
    </script>
   
   
<script src="~/js/CanvasJs/jquery.canvasjs.min.js"></script>
<script src="~/js/CanvasJs/canvasjs.min.js"></script>
    
}